---
title: 浏览器的进程与线程
date: 2022-10-15 22:20:22
description: 多进程的浏览器与浏览器渲染进程（内核）（Renderer 进程）
categories:
- Browser
tags:
- Browser
---

## 浏览器的进程与线程

**浏览器是多进程的**

**浏览器的每个页面是一个进程**

**浏览器的进程包括：**主控 `Browser` 进程、`GPU` 进程、插件进程、渲染进程页（浏览器内核）等

- **Browser 进程：**浏览器的主进程，负责协调、主控，只有一个
- **GPU 进程：**最多一个，用于 `3D` 绘制
- **第三方插件进程：**每种类型的插件对应一个进程，仅当使用该插件时才创建
- **浏览器渲染进程（内核）（`Renderer` 进程）：**默认每个 `Tab` 页面一个进程，互不影响，控制页面渲染，脚本执行，事件处理等（有时会优化，如多个空白 `Tab` 会合并成一个进程）



**多线程的浏览器内核进程**

- **GUI 渲染线程：**负责渲染页面，解析 `HTML` `CSS` 构成 `DOM` 树等，页面重绘或者由于某种操作引起回流都会调起该线程，与 `JS` 引擎线程互斥，`JS` 引擎线程工作时，`GUI` 渲染线程会被挂起，`GUI` 更新被放入在 `JS` 任务队列中，等待 `JS` 引擎线程空闲时继续执行
- **JS 引擎线程：**单线程工作，负责解析运行 `JavaScript` 脚本（比如：`V8` 引擎），和 `GUI` 渲染线程互斥，`JS` 运行耗时过长会导致页面阻塞，一个 `Tab` 页无论什么时候都只有一个 `JS` 线程在运行 `JS` 程序
- **事件触发线程：**事件符合触发条件被触发时，该线程会把对应的事件回调函数添加到任务队列的队尾，等待 `JS` 引擎处理。
- **定时器触发线程**：`setInterval` 与 `setTimeout` 所在线程，浏览器定时计数器并不是由 `JS` 引擎计数的，阻塞会导致计时不准确，开启定时器触发线程来计时并触发计时，计时完成后会被添加到任务队列中，等待 `JS`引擎处理
- **HTTP 请求线程：**`HTTP` 请求时会通过浏览器开启一条请求线程，请求完成有结果后，将请求的回调函数添加到任务队列中，等待 `JS` 引擎处理

[**MORE**](https://zhuanlan.zhihu.com/p/435427222)